<!DOCTYPE html>
<html>

<head>
   <meta charset="utf-8" />
   <title>My BCIT Project</title>
   <meta name="comp1800 boilerplate code" content="my bcit project" />
   <meta name="author" content="BCIT" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
   <link rel="stylesheet" href="./styles/my_style.css" />

   <!-- Boostrap JS CDN -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
      crossorigin="anonymous"></script>

   <!-- Firebase 8 related CSS CDN -->
   <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />

   <!-- Firebase 8 related JS CDN -->
   <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
   <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
   <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
   <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>

   <!-- Link to the api keys for your Firebase project -->
   <script src="./scripts/firebaseAPI.js"></script>

   <style>
      body {
         background-color: rgb(213, 223, 255);

      }

      .news-title {
         text-align: center;
         padding-top: 30px;
         padding-bottom: 30px;
         font-family: "nimbus-sans-condensed", sans-serif;
         font-size: 55px;
         font-weight: bold;
      }
   </style>
</head>

<body>
   <button id="back-button" onclick="goBack()">Back</button>
   <h2 class="news-title">Saved News</h2>
   <br />

   <div class="card" >
      <div class="card-body">
        <h5 class="card-title"><span id="title1" style="font-style: italic;"></span></h5>
       <span id="url1" style="font-size: 0.2cm;"></span>
       <br>
        <a href="#" >More Details</a>
      </div>
    </div>
    <br>

    <div class="card" style="border: 18rem;">
      <div class="card-body">
        <h5 class="card-title"><span id="content-goes-here" style="font-style: italic;"></span></h5>
        <span id="url-goes-here" style="font-size: 0.2cm;"></span>
        <br>
        <a href="#">More Details</a>
      </div>
    </div>
    <br>

    <div class="card" style="border: 18rem;">
      <div class="card-body">
        <h5 class="card-title"><span id="title2" style="font-style: italic;"></span></h5>
        <span id="url2" style="font-size: 0.2cm;"></span>
        <br>
        <a href="#">More Details</a>
      </div>
    </div>
    <br>

    <div class="card" style="border: 18rem;">
      <div class="card-body">
        <h5 class="card-title"><span id="title3" style="font-style: italic;"></span></h5>
        <span id="url3" style="font-size: 0.2cm;"></span>
        <br>
        <a href="#">More Details</a>
      </div>
    </div>
    <br>

    <div class="card" style="border: 18rem;">
      <div class="card-body">
        <h5 class="card-title"><span id="title4" style="font-style: italic;"></span></h5>
        <span id="url4" style="font-size: 0.2cm;"></span>
        <br>
        <a href="#">More Details</a>
      </div>
    </div>
    <br>

    <div class="card" style="border: 18rem;">
      <div class="card-body">
        <h5 class="card-title"><span id="title5" style="font-style: italic;"></span></h5>
        <span id="url5" style="font-size: 0.2cm;"></span>
        <br>
        <a href="#">More Details</a>
      </div>
    </div>
    <br>

    <div class="card" style="border: 18rem;">
      <div class="card-body">
        <h5 class="card-title"><span id="title6" style="font-style: italic;"></span></h5>
        <span id="url6" style="font-size: 0.2cm;"></span>
        <br>
        <a href="#">More Details</a>
      </div>
    </div>



   <script src="./scripts/my_script.js"></script>
   <script>
      function insertTitle() {
         firebase.auth().onAuthStateChanged(user => {

            if (user) {

               currentUser = db.collection("users").doc(user.uid).collection("saved_news").doc("test_article");

               currentUser.get()
                  .then(saved_newsDoc => {
                     var Title = saved_newsDoc.data().title;
                     var url = saved_newsDoc.data().url;
                     console.log(Title);
                     $("#content-goes-here").text(Title);
                     $("#url-goes-here").text(url);
                  })

               currentUser = db.collection("users").doc(user.uid).collection("saved_news").doc("0001");

               currentUser.get()
                  .then(saved_newsDoc => {
                     var Title = saved_newsDoc.data().title;
                     var url = saved_newsDoc.data().url;
                     console.log(Title);
                     $("#title1").text(Title);
                     $("#url1").text(url);
                  })
                  currentUser = db.collection("users").doc(user.uid).collection("saved_news").doc("0002");

               currentUser.get()
                  .then(saved_newsDoc => {
                     var Title = saved_newsDoc.data().title;
                     var url = saved_newsDoc.data().url;
                     console.log(Title);
                     $("#title2").text(Title);
                     $("#url2").text(url);
                  })
                  currentUser = db.collection("users").doc(user.uid).collection("saved_news").doc("0003");

               currentUser.get()
                  .then(saved_newsDoc => {
                     var Title = saved_newsDoc.data().title;
                     var url = saved_newsDoc.data().url;
                     console.log(Title);
                     $("#title3").text(Title);
                     $("#url3").text(url);
                  })
                  currentUser = db.collection("users").doc(user.uid).collection("saved_news").doc("0004");

               currentUser.get()
                  .then(saved_newsDoc => {
                     var Title = saved_newsDoc.data().title;
                     var url = saved_newsDoc.data().url;
                     console.log(Title);
                     $("#title4").text(Title);
                     $("#url4").text(url);
                  })
                  currentUser = db.collection("users").doc(user.uid).collection("saved_news").doc("0005");

               currentUser.get()
                  .then(saved_newsDoc => {
                     var Title = saved_newsDoc.data().title;
                     var url = saved_newsDoc.data().url;
                     console.log(Title);
                     $("#title5").text(Title);
                     $("#url5").text(url);
                  })
                  currentUser = db.collection("users").doc(user.uid).collection("saved_news").doc("0006");

               currentUser.get()
                  .then(saved_newsDoc => {
                     var Title = saved_newsDoc.data().title;
                     var url = saved_newsDoc.data().url;
                     console.log(Title);
                     $("#title1").text(Title);
                     $("#url6").text(url);
                  })

            } else {
               // No user is signed in.
            }
         });
      }
      insertTitle();



   </script>
</body>

</html>